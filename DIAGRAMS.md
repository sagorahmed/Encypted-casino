# Encrypted Casino - Visual Architecture & Data Flow Diagrams

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ENCRYPTED CASINO SYSTEM                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚               USER / OWNER INTERFACE                       â”‚ â”‚
â”‚  â”‚            (Next.js 14 + React + Tailwind)                â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Dashboard (/)          Owner Dashboard (/owner)          â”‚ â”‚
â”‚  â”‚  â”œâ”€ Game Selection      â”œâ”€ House Balance                 â”‚ â”‚
â”‚  â”‚  â”œâ”€ Play Coin Flip      â”œâ”€ Deposit House Funds          â”‚ â”‚
â”‚  â”‚  â”œâ”€ Play Range Pred.    â”œâ”€ Withdraw House Funds         â”‚ â”‚
â”‚  â”‚  â”œâ”€ Encrypted Balance   â”œâ”€ Casino Statistics            â”‚ â”‚
â”‚  â”‚  â”œâ”€ Deposit/Withdraw    â””â”€ Owner Authentication         â”‚ â”‚
â”‚  â”‚  â””â”€ Game History                                          â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚                                  â”‚
â”‚                              â†“                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         WALLET INTEGRATION LAYER                          â”‚ â”‚
â”‚  â”‚    (Wagmi + RainbowKit + Viem)                           â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Connection Management   â”‚  Transaction Signing          â”‚ â”‚
â”‚  â”‚  â”œâ”€ MetaMask            â”‚  â”œâ”€ ethers.js                â”‚ â”‚
â”‚  â”‚  â”œâ”€ WalletConnect       â”‚  â”œâ”€ Contract ABIs             â”‚ â”‚
â”‚  â”‚  â”œâ”€ Ledger              â”‚  â””â”€ Gas Estimation            â”‚ â”‚
â”‚  â”‚  â””â”€ Coinbase            â”‚                                â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚                                  â”‚
â”‚                              â†“                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚          FHE ENCRYPTION LAYER (fhevmjs)                  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  Encryption              â”‚  Proof Generation             â”‚ â”‚
â”‚  â”‚  â”œâ”€ encrypt32(choice)    â”‚  â”œâ”€ ZK proof creation        â”‚ â”‚
â”‚  â”‚  â”œâ”€ encrypt64(amount)    â”‚  â”œâ”€ Proof serialization      â”‚ â”‚
â”‚  â”‚  â”œâ”€ Ciphertext encoding  â”‚  â””â”€ Proof validation         â”‚ â”‚
â”‚  â”‚  â””â”€ Batch encryption     â”‚                               â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚                                  â”‚
â”‚                              â†“                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚      RPC LAYER (Viem + Ethers.js)                        â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  HTTP Requests  â”‚  Transaction Calls  â”‚  Event Logs      â”‚ â”‚
â”‚  â”‚  â”œâ”€ eth_call    â”‚  â”œâ”€ eth_sendTx      â”‚  â”œâ”€ eth_getLogs â”‚ â”‚
â”‚  â”‚  â”œâ”€ eth_getCode â”‚  â”œâ”€ eth_getReceipt  â”‚  â””â”€ eth_filter  â”‚ â”‚
â”‚  â”‚  â””â”€ eth_balance â”‚  â””â”€ Transaction Poolâ”‚                  â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚                                  â”‚
â”‚                              â†“                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         BLOCKCHAIN LAYER (FHEVM Network)                 â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â”‚  GameHouse Contract                                       â”‚ â”‚
â”‚  â”‚  â”œâ”€ Encrypted State Variables                            â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ mapping(addr => euint64) encryptedBalances       â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ euint64 totalHouseBalance                         â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ GameResult[] gameHistory                          â”‚ â”‚
â”‚  â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  â”œâ”€ Game Execution (On-Chain, Encrypted)                â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ CoinFlip Logic                                    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ FHE.randEuint32() â†’ Random bit               â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ FHE.eq() â†’ Compare encrypted values           â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ FHE.select() â†’ Conditional payout            â”‚ â”‚
â”‚  â”‚  â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ RangePredictor Logic                             â”‚ â”‚
â”‚  â”‚  â”‚     â”œâ”€ FHE.rem(randEuint32(), 100)+1 â†’ Number       â”‚ â”‚
â”‚  â”‚  â”‚     â”œâ”€ FHE.lt(number, 50) â†’ Below?                   â”‚ â”‚
â”‚  â”‚  â”‚     â””â”€ FHE.select() â†’ Conditional payout            â”‚ â”‚
â”‚  â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  â””â”€ Functions                                             â”‚ â”‚
â”‚  â”‚     â”œâ”€ deposit(), withdraw()                             â”‚ â”‚
â”‚  â”‚     â”œâ”€ playCoinFlip(), playRangePredictor()             â”‚ â”‚
â”‚  â”‚     â””â”€ depositHouseFunds(), withdrawHouseFunds()        â”‚ â”‚
â”‚  â”‚                                                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Game Execution Flow - Coin Flip

```
START: Player plays Coin Flip
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FRONTEND (Client-Side)                â”‚
â”‚                                         â”‚
â”‚  1. User selects: Heads (choice=0)     â”‚
â”‚  2. User enters: Bet = 0.0001 ETH      â”‚
â”‚  3. Click: "Play Game"                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ENCRYPTION (fhevmjs)                  â”‚
â”‚                                         â”‚
â”‚  1. encryptedChoice = fhevm.encrypt32(0)â”‚
â”‚  2. proof = generateProof(choice)       â”‚
â”‚  3. Serialize for transaction           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   WALLET INTERACTION                    â”‚
â”‚                                         â”‚
â”‚  1. Prepare transaction:                â”‚
â”‚     to: GameHouse.address               â”‚
â”‚     data: playCoinFlip(enc, proof, bet) â”‚
â”‚  2. Sign transaction                    â”‚
â”‚  3. Send to network                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MEMPOOL                               â”‚
â”‚                                         â”‚
â”‚  Transaction broadcasted to nodes       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   BLOCK VALIDATION                      â”‚
â”‚                                         â”‚
â”‚  1. Validators receive transaction      â”‚
â”‚  2. Simulate execution                  â”‚
â”‚  3. Add to candidate block              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SMART CONTRACT EXECUTION (FHEVM)      â”‚
â”‚                                         â”‚
â”‚  function playCoinFlip(                 â”‚
â”‚    encChoice,                           â”‚
â”‚    proof,                               â”‚
â”‚    betAmount                            â”‚
â”‚  ) {                                    â”‚
â”‚    // 1. Verify encrypted input         â”‚
â”‚    euint32 choice = FHE.fromExternal(   â”‚
â”‚      encChoice, proof                   â”‚
â”‚    );                                   â”‚
â”‚                                         â”‚
â”‚    // 2. Validate bet                   â”‚
â”‚    require(                             â”‚
â”‚      betAmount > 0 &&                   â”‚
â”‚      betAmount <= MAX_BET               â”‚
â”‚    );                                   â”‚
â”‚                                         â”‚
â”‚    // 3. Generate encrypted random bit  â”‚
â”‚    euint32 randomBit =                  â”‚
â”‚      FHE.rem(FHE.randEuint32(), 2);    â”‚
â”‚    // Result: 0 or 1 (ENCRYPTED)       â”‚
â”‚                                         â”‚
â”‚    // 4. Compare encrypted values       â”‚
â”‚    ebool isWinner =                     â”‚
â”‚      FHE.eq(choice, randomBit);         â”‚
â”‚    // Result: true/false (ENCRYPTED)   â”‚
â”‚                                         â”‚
â”‚    // 5. Calculate encrypted payout     â”‚
â”‚    euint32 payout =                     â”‚
â”‚      FHE.select(                        â”‚
â”‚        isWinner,                        â”‚
â”‚        betAmount * 2,    // Win payout â”‚
â”‚        0                  // Loss       â”‚
â”‚      );                                 â”‚
â”‚    // Result: amount (ENCRYPTED)       â”‚
â”‚                                         â”‚
â”‚    // 6. Update encrypted balance       â”‚
â”‚    encryptedBalances[msg.sender] =      â”‚
â”‚      FHE.add(                           â”‚
â”‚        encryptedBalances[msg.sender],   â”‚
â”‚        payout                           â”‚
â”‚      );                                 â”‚
â”‚                                         â”‚
â”‚    // 7. Set permissions                â”‚
â”‚    FHE.allowThis(                       â”‚
â”‚      encryptedBalances[msg.sender]      â”‚
â”‚    );                                   â”‚
â”‚    FHE.allow(                           â”‚
â”‚      encryptedBalances[msg.sender],     â”‚
â”‚      msg.sender                         â”‚
â”‚    );                                   â”‚
â”‚                                         â”‚
â”‚    // 8. Record encrypted result        â”‚
â”‚    gameHistory.push(                    â”‚
â”‚      GameResult(                        â”‚
â”‚        player: msg.sender,              â”‚
â”‚        gameType: GameType.CoinFlip,    â”‚
â”‚        betAmount: betAmount,            â”‚
â”‚        won: isWinner,  // Still encryptedâ”‚
â”‚        timestamp: block.timestamp,      â”‚
â”‚        encryptedOutcome: keccak256(     â”‚
â”‚          abi.encode(randomBit)          â”‚
â”‚        )                                â”‚
â”‚      )                                  â”‚
â”‚    );                                   â”‚
â”‚  }                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   STATE UPDATE (ENCRYPTED ON-CHAIN)     â”‚
â”‚                                         â”‚
â”‚  1. Balance: encrypted new amount       â”‚
â”‚  2. History: encrypted game record      â”‚
â”‚  3. NO plaintext exposure!              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   BLOCK INCLUSION                       â”‚
â”‚                                         â”‚
â”‚  1. Block mined/validated               â”‚
â”‚  2. Transaction finalized               â”‚
â”‚  3. State committed                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   EVENT EMISSION                        â”‚
â”‚                                         â”‚
â”‚  GamePlayed(                            â”‚
â”‚    player: 0xABC...,                    â”‚
â”‚    gameType: 0 (CoinFlip),             â”‚
â”‚    betAmount: 0.0001,                   â”‚
â”‚    won: true/false                      â”‚
â”‚  )                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FRONTEND FEEDBACK (Client-Side)       â”‚
â”‚                                         â”‚
â”‚  1. Transaction confirmed!              â”‚
â”‚  2. Listen to GamePlayed event          â”‚
â”‚  3. Display result to user:             â”‚
â”‚     âœ… "You Won! Payout: 0.0002 ETH"   â”‚
â”‚     or                                  â”‚
â”‚     âŒ "You Lost. Try again!"           â”‚
â”‚  4. Update balance (if user decrypts)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
       END
```

## Encrypted Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ENCRYPTED DATA LIFECYCLE                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  STEP 1: USER DATA (PLAINTEXT - Client Side Only)        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚   User: {                                                 â”‚
â”‚     choice: 0 (Heads)          [PLAINTEXT at browser]    â”‚
â”‚     betAmount: 0.0001 ETH      [PLAINTEXT at browser]    â”‚
â”‚     privateKey: 0xABC...       [NEVER transmitted]        â”‚
â”‚   }                                                       â”‚
â”‚                                                            â”‚
â”‚        â”‚                                                  â”‚
â”‚        â†“                                                  â”‚
â”‚                                                            â”‚
â”‚  STEP 2: ENCRYPTION (fhevmjs)                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”‚
â”‚   encryptedChoice = [CIPHERTEXT]  â† FHE encrypted        â”‚
â”‚   proof = [ZK PROOF]              â† Cryptographic proof  â”‚
â”‚                                                            â”‚
â”‚   âš ï¸  Original plaintext DESTROYED from memory           â”‚
â”‚                                                            â”‚
â”‚        â”‚                                                  â”‚
â”‚        â†“                                                  â”‚
â”‚                                                            â”‚
â”‚  STEP 3: TRANSMISSION (Over Network)                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                      â”‚
â”‚   Transaction: {                                          â”‚
â”‚     to: 0xGameHouse,                                     â”‚
â”‚     data: playCoinFlip(                                  â”‚
â”‚       encryptedChoice: [CIPHERTEXT],    [SAFE]           â”‚
â”‚       proof: [ZK PROOF],                [SAFE]           â”‚
â”‚       betAmount: 0.0001                 [PLAINTEXT - OK] â”‚
â”‚     )                                                     â”‚
â”‚   }                                                       â”‚
â”‚                                                            â”‚
â”‚   âœ… Only ciphertexts transmitted!                        â”‚
â”‚   âœ… Network observers see no game choice               â”‚
â”‚                                                            â”‚
â”‚        â”‚                                                  â”‚
â”‚        â†“                                                  â”‚
â”‚                                                            â”‚
â”‚  STEP 4: SMART CONTRACT PROCESSING (FHEVM)              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”‚
â”‚   euint32 choice = FHE.fromExternal(encChoice, proof)   â”‚
â”‚   euint32 randomBit = FHE.rem(FHE.randEuint32(), 2)     â”‚
â”‚   ebool isWinner = FHE.eq(choice, randomBit)            â”‚
â”‚   euint32 payout = FHE.select(isWinner, amount, 0)      â”‚
â”‚                                                            â”‚
â”‚   âœ… ALL computations on ciphertexts!                    â”‚
â”‚   âœ… No plaintext intermediate values!                   â”‚
â”‚   âœ… Random number generated encrypted!                  â”‚
â”‚   âœ… Comparison result is encrypted boolean!             â”‚
â”‚   âœ… Payout is encrypted integer!                        â”‚
â”‚                                                            â”‚
â”‚        â”‚                                                  â”‚
â”‚        â†“                                                  â”‚
â”‚                                                            â”‚
â”‚  STEP 5: STATE COMMITMENT (On-Chain)                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚   encryptedBalances[player] = [CIPHERTEXT]              â”‚
â”‚   gameHistory[n] = {                                    â”‚
â”‚     ...                                                  â”‚
â”‚     encryptedOutcome: keccak256([CIPHERTEXT])           â”‚
â”‚   }                                                      â”‚
â”‚                                                            â”‚
â”‚   âœ… Blockchain stores only ciphertexts!                â”‚
â”‚   âœ… No blockchain observer knows game outcome!         â”‚
â”‚   âœ… No front-running possible!                         â”‚
â”‚                                                            â”‚
â”‚        â”‚                                                  â”‚
â”‚        â†“                                                  â”‚
â”‚                                                            â”‚
â”‚  STEP 6: USER DECRYPTION (Optional - Client Side Only)  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚   balance = decrypt(encryptedBalance, privateKey)       â”‚
â”‚                                                            â”‚
â”‚   âœ… Only player can decrypt with private key!          â”‚
â”‚   âœ… Owner cannot see player balances!                  â”‚
â”‚   âœ… Balances remain confidential!                      â”‚
â”‚                                                            â”‚
â”‚        â”‚                                                  â”‚
â”‚        â†“                                                  â”‚
â”‚                                                            â”‚
â”‚  FINAL STATE: Complete Privacy                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚   Player knows: balance, game choice, result            â”‚
â”‚   Contract knows: encrypted values only                 â”‚
â”‚   Observer knows: transaction happened, that's it       â”‚
â”‚   Owner knows: encrypted aggregates only                â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## User Journey Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PLAYER USER JOURNEY                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [Start]                                                    â”‚
â”‚    â”‚                                                        â”‚
â”‚    â†“                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ Visit http://localhost:3000              â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚    â”‚                                                        â”‚
â”‚    â†“                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ Click "Connect" Button                   â”‚              â”‚
â”‚  â”‚ Select Wallet (MetaMask, etc.)           â”‚              â”‚
â”‚  â”‚ Approve Connection                       â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚    â”‚                                                        â”‚
â”‚    â†“                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ View Dashboard                           â”‚              â”‚
â”‚  â”‚ â”œâ”€ See Encrypted Balance                 â”‚              â”‚
â”‚  â”‚ â”œâ”€ View Game Selection Cards             â”‚              â”‚
â”‚  â”‚ â””â”€ Recent Game History (empty)           â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚    â”‚                                                        â”‚
â”‚    â†“                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ Click "Deposit"                          â”‚              â”‚
â”‚  â”‚ Enter Amount: 0.01 ETH                   â”‚              â”‚
â”‚  â”‚ Click "Deposit" Button                   â”‚              â”‚
â”‚  â”‚ Confirm in Wallet                        â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚    â”‚                                                        â”‚
â”‚    â†“                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ âœ… Deposit Successful!                   â”‚              â”‚
â”‚  â”‚ Balance now encrypted on-chain           â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚    â”‚                                                        â”‚
â”‚    â†“                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ Click "Play" on Coin Flip Card           â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚    â”‚                                                        â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â†“                       â†“                         â”‚     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚     â”‚
â”‚  â”‚ Select: Heads   â”‚  â”‚ Select: Tails   â”‚          â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚     â”‚
â”‚    â”‚ (choice=0)        â”‚ (choice=1)                 â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚     â”‚
â”‚            â”‚                                         â”‚     â”‚
â”‚            â†“                                         â”‚     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚     â”‚
â”‚  â”‚ Set Bet Amount: 0.0001 ETH               â”‚       â”‚     â”‚
â”‚  â”‚ (Default max shown)                      â”‚       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚     â”‚
â”‚            â”‚                                         â”‚     â”‚
â”‚            â†“                                         â”‚     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚     â”‚
â”‚  â”‚ Click "Play Game" Button                 â”‚       â”‚     â”‚
â”‚  â”‚ Encrypt choice locally                   â”‚       â”‚     â”‚
â”‚  â”‚ Send encrypted choice to contract        â”‚       â”‚     â”‚
â”‚  â”‚ Contract executes FHE operations         â”‚       â”‚     â”‚
â”‚  â”‚ Contract generates encrypted RNG         â”‚       â”‚     â”‚
â”‚  â”‚ Contract compares encrypted values       â”‚       â”‚     â”‚
â”‚  â”‚ Contract calculates encrypted payout     â”‚       â”‚     â”‚
â”‚  â”‚ Contract updates encrypted balance       â”‚       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚     â”‚
â”‚            â”‚                                         â”‚     â”‚
â”‚            â†“ (15-30 seconds)                        â”‚     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚     â”‚
â”‚  â”‚ âœ… Transaction Confirmed!                â”‚       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚     â”‚
â”‚            â”‚                                         â”‚     â”‚
â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚     â”‚
â”‚            â†“                 â†“                  â”‚   â”‚     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚     â”‚
â”‚  â”‚ ðŸŽ‰ YOU WON!    â”‚ â”‚ âŒ YOU LOST!   â”‚        â”‚   â”‚     â”‚
â”‚  â”‚ +0.0001 ETH    â”‚ â”‚ -0.0001 ETH    â”‚        â”‚   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚     â”‚
â”‚            â”‚                 â”‚                 â”‚   â”‚     â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚   â”‚     â”‚
â”‚                     â”‚                          â”‚   â”‚     â”‚
â”‚                     â†“                          â”‚   â”‚     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚     â”‚
â”‚  â”‚ Balance Updated (encrypted)              â”‚ â”‚   â”‚     â”‚
â”‚  â”‚ Game Added to History                    â”‚ â”‚   â”‚     â”‚
â”‚  â”‚ Option to Play Again                     â”‚ â”‚   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚     â”‚
â”‚                     â”‚                          â”‚   â”‚     â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”˜     â”‚
â”‚                     (Play another game)        â”‚         â”‚
â”‚            â†“                                   â”‚         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚
â”‚  â”‚ Click "Back to Games"                    â”‚ â”‚         â”‚
â”‚  â”‚ Can play Range Predictor or more         â”‚ â”‚         â”‚
â”‚  â”‚ Coin Flip games                          â”‚ â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚
â”‚            â”‚                                   â”‚         â”‚
â”‚            â†“                                   â”‚         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚
â”‚  â”‚ Click "Withdraw"                         â”‚ â”‚         â”‚
â”‚  â”‚ Enter Amount: 0.005 ETH                  â”‚ â”‚         â”‚
â”‚  â”‚ Confirm in Wallet                        â”‚ â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚
â”‚            â”‚                                   â”‚         â”‚
â”‚            â†“                                   â”‚         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚
â”‚  â”‚ âœ… Withdrawal Successful!                â”‚ â”‚         â”‚
â”‚  â”‚ Funds sent to wallet                     â”‚ â”‚         â”‚
â”‚  â”‚ Encrypted balance updated                â”‚ â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚
â”‚            â”‚                                   â”‚         â”‚
â”‚            â†“                                   â”‚         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚
â”‚  â”‚ Click "Disconnect" (Optional)            â”‚ â”‚         â”‚
â”‚  â”‚ Logout from app                          â”‚ â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚
â”‚            â”‚                                   â”‚         â”‚
â”‚            â†“                                   â”‚         â”‚
â”‚           [End]                               â”‚         â”‚
â”‚                                               â”‚         â”‚
â”‚  âœ… Complete Privacy Throughout!              â”‚         â”‚
â”‚  âœ… Fair Gaming Guaranteed!                   â”‚         â”‚
â”‚  âœ… No Central Authority Needed!              â”‚         â”‚
â”‚                                               â”‚         â”‚
â”‚                                               â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Relationship Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                COMPONENT HIERARCHY                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚                     _app.tsx                             â”‚
â”‚         (RainbowKitProvider, WagmiConfig)               â”‚
â”‚                        â”‚                                 â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚            â”‚                       â”‚                    â”‚
â”‚        index.tsx          owner-dashboard.tsx           â”‚
â”‚        (Page)             (Page)                        â”‚
â”‚            â”‚                       â”‚                    â”‚
â”‚            â†“                       â†“                    â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚        â”‚Dashboardâ”‚         â”‚OwnerDashboardâ”‚           â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚            â”‚                       â”‚                    â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”               â”‚                    â”‚
â”‚    â”‚       â”‚       â”‚               â”‚                    â”‚
â”‚    â†“       â†“       â†“               â†“                    â”‚
â”‚  Games  Wallet   Recent       HouseMgmt                â”‚
â”‚    â”‚    Comps    History       Comps                   â”‚
â”‚    â”‚      â”‚        â”‚             â”‚                    â”‚
â”‚    â”‚    â”Œâ”€â”´â”€â”      â”‚             â”‚                    â”‚
â”‚    â”‚    â”‚   â”‚      â”‚             â”‚                    â”‚
â”‚    â†“    â†“   â†“      â”‚             â”‚                    â”‚
â”‚ CoinFlip Connection History   Balance/Deposit        â”‚
â”‚ Range   Balance              Withdraw/View           â”‚
â”‚ Pred.                        Statistics              â”‚
â”‚                                                        â”‚
â”‚                                                        â”‚
â”‚  Library Modules:                                      â”‚
â”‚  â”‚                                                     â”‚
â”‚  â”œâ”€ wallet-config.ts                                 â”‚
â”‚  â”‚  â””â”€ Wagmi config, RainbowKit setup                â”‚
â”‚  â”‚                                                     â”‚
â”‚  â””â”€ fhevm-client.ts                                  â”‚
â”‚     â””â”€ FHE encryption, contract interaction          â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**All diagrams are ASCII-based for easy reading in markdown**
